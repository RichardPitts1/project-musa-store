{"version":3,"file":"static/webpack/static/development/pages/_app.js.416cf06959ecb53a1c5d.hot-update.js","sources":["webpack:///./components/Cart.js","webpack:///./lib/calcTotalPrice.js"],"sourcesContent":["import React from 'react';\nimport { Query, Mutation } from 'react-apollo';\nimport Supreme from './styles/Supreme';\nimport CartItem from './CartItem'\nimport calcTotalPrice from '../lib/calcTotalPrice'\nimport CloseButton from './styles/CloseButton';\nimport SickButton from './styles/SickButton';\nimport gql from 'graphql-tag';\nimport CartStyles from './styles/CartStyles';\nimport User from './User'\n\n// So you can use adopt, an npm, to make it where you do not have to wrap multiple queries, mutations, and users.\n\n// me.cart.length === 1 ? '' : 's' == Badass logic for if you have singular/plural constructs\n\nconst TOGGLE_CART_MUTATION = gql`\n  mutation {\n    toggleCart @client\n  }\n`\n\n// So the client part is saying don't go to the graphQL server, go to the client in local state\nconst LOCAL_STATE_QUERY = gql`\n  query {\n    cartOpen @client\n  }\n`\n\nconst Cart = () => (\n  <User>\n    {({ data: { me } }) => {\n      if(!me) return null;\n      return (\n\n\n  <Mutation mutation={TOGGLE_CART_MUTATION}>{(toggleCart) => (\n  <Query query={LOCAL_STATE_QUERY}>\n    {({data}) => console.log(data) || (\n  <CartStyles open={data.cartOpen}>\n    <header>\n      <CloseButton \n        title=\"close\"\n        onClick={toggleCart}\n      >\n        &times;\n      </CloseButton>\n      <Supreme>{me.name}'s Cart</Supreme>\n      \n      <p>You got {me.cart.length} Item{me.cart.length === 1 ? '' : 's'} in your cart</p>\n    </header>\n    <ul>{me.cart.map(cartItem => <CartItem cartItem={cartItem} key={cartItem.id} />)}</ul>\n  <footer>\n    <p>$17.76</p>\n  </footer>\n                <SickButton>Checkout</SickButton>\n              </CartStyles>\n            )}\n          </Query>\n        )}\n      </Mutation>\n    )\n    }}</User>\n);\n\nexport { LOCAL_STATE_QUERY, TOGGLE_CART_MUTATION }\nexport default Cart;","export default function calcTotalPrice(cart) {\n  return cart.reduce((tally, cartItem) => {\n    if (!cartItem.item) return tally;\n    return tally + cartItem.quantity * cartItem.item.price;\n  }, 0);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAMA;AACA;AAKA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAjBA;AAFA;AA0BA;AAjCA;AACA;AAmCA;AACA;;;;;;;;;;;;ACjEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}